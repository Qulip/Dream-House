<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.happy.model.repo.DealInfoRepo">

    <select id="selectAllByDongCode" resultType="DealInfo">
        SELECT *
        FROM dealInfo
        WHERE dongCode = #{dongCode}
        <if test="sortBy.equals('date')">
            ORDER BY dealYear ${sortOrder}, dealMonth ${sortOrder}, dealDay ${sortOrder}
        </if>
        <if test="!sortBy.equals('date')">
            ORDER BY ${sortBy} ${sortOrder}
        </if>
    </select>

    <select id="selectApt" resultType="DealInfo">
        select *
        from dealInfo
        where aptName = #{aptName}
        and dongCode = #{dongCode}
        <if test="sortBy.equals('date')">
            ORDER BY dealYear ${sortOrder}, dealMonth ${sortOrder}, dealDay ${sortOrder}
        </if>
        <if test="!sortBy.equals('date')">
            ORDER BY ${sortBy} ${sortOrder}
        </if>
    </select>
</mapper>